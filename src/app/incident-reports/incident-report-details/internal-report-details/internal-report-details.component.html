<ion-card-header>
    <ion-card-subtitle>Internal</ion-card-subtitle>
    <ion-card-title>{{incidentReport.title}}</ion-card-title>
</ion-card-header>
<location-details [incidentReport]="incidentReport"></location-details>
<ion-card-header>
    <ion-card-subtitle>Description</ion-card-subtitle>
</ion-card-header>
<ion-card-content>
    {{incidentReport.description}}
</ion-card-content>
<ion-grid>
    <ion-row>
        <ion-col>
            <ion-button color="secondary" expand="block" margin-bottom (click)="takePhotoAndUpload()">
                Take photo</ion-button>
        </ion-col>
    </ion-row>
</ion-grid>
<ion-card-header>
    <ion-card-subtitle>Reported By</ion-card-subtitle>
</ion-card-header>
<ion-card-content>
    {{ incidentReport.user.name }}
</ion-card-content>
<ion-card-header>
    <ion-card-subtitle>Created</ion-card-subtitle>
</ion-card-header>
<ion-card-content>
    {{ incidentReport.created | date:'MMM dd, yyyy' }}
</ion-card-content>
<ion-card-header>
    <ion-card-subtitle>Divisions</ion-card-subtitle>
</ion-card-header>
<ion-card-content>
    <span *ngFor="let division of incidentReport.divisions; let isLast=last">
        {{ division.name }}{{isLast ? '' : ', '}}
    </span>
</ion-card-content>

<ion-card-header *ngIf="files && files.length > 0">
    <ion-card-subtitle>Files</ion-card-subtitle>
</ion-card-header>

<ion-item *ngFor="let file of files">
    <ion-thumbnail slot="start" *ngIf="file">
        <img src="{{ file.url }}" />
    </ion-thumbnail>
    <ion-label>
        {{file.name}}
    </ion-label>
    <ion-icon (click)="removePicture(file)" name="trash" color="warning" item-end></ion-icon>
</ion-item>