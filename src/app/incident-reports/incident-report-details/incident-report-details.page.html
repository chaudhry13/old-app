<ion-header>
  <ion-toolbar color="primary" class="ion-color ion-color-primary">
    <ion-title class="title-ios hydrated">Incident Report</ion-title>

    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="incidentReport">
  <agm-map *ngIf="renderMap" #map [latitude]="incidentReport.latitude" [longitude]="incidentReport.longitude">
    <agm-marker [latitude]="incidentReport.latitude" [longitude]="incidentReport.longitude"></agm-marker>
  </agm-map>

  <ion-card-header>
    <ion-card-subtitle *ngIf="incidentReport.source == 0">Internal</ion-card-subtitle>
    <ion-card-subtitle *ngIf="incidentReport.source == 1">External</ion-card-subtitle>
    <ion-card-title>{{incidentReport.title}}</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    {{incidentReport.description}}
  </ion-card-content>
  <ion-card-header *ngIf="incidentReport.source == 1">
    <ion-card-subtitle>Source</ion-card-subtitle>
  </ion-card-header>

  <ion-card-content *ngIf="incidentReport.source == 1">
    <img width="200px" src="assets/img/riskline_logo.png">
  </ion-card-content>
  <ion-grid *ngIf="incidentReport.source == 0">
    <ion-row>
      <ion-col>
        <ion-button color="secondary" expand="block" margin-bottom (click)="takePicture()">
          Take photo</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-card-header>
    <ion-card-subtitle>Created By</ion-card-subtitle>
  </ion-card-header>
  <ion-card-content>
    Torben Nielsen
  </ion-card-content>

  <ion-card-header *ngIf="files">
    <ion-card-subtitle>Files</ion-card-subtitle>
  </ion-card-header>

  <ion-item *ngFor="let file of files">
    <ion-thumbnail slot="start" *ngIf="file">
      <img src="{{ file.url }}">
    </ion-thumbnail>
    <ion-label>
      {{file.name}}
    </ion-label>
  </ion-item>
</ion-content>